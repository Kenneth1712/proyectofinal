package com.example.demo.repositorio;


import java.util.Date;
import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import com.example.demo.modelo.nomina;

public interface nomina_repositorio extends JpaRepository<nomina, Long>{
public List<nomina>findByDeducidos(long deducidos);
public List<nomina>findByFecha(Date fecha);
public List<nomina>findByingresos(long ingresos);
public List <nomina>findBySalario(long salario);
public List<nomina>findByTotalsalario(long totalsalario);
List <nomina>findById(long identifacion);

	
@Query("SELECT MONTH(n.fecha) AS mes, COUNT(DISTINCT n.empleado_id) AS cantidad_empleados " +
        "FROM nomina n " +
        "WHERE YEAR(n.fecha) = :a単o " +
        "GROUP BY MONTH(n.fecha)")
 List<Object[]> obtenerCantidadEmpleadosPorA単o(@Param("a単o") int a単o);
}